#!/bin/bash

install-dev-package(){
    sudo pacman -S --needed \
        zsh vim net-tools bc make git screen tmux openssh emacs tree curl jq man \
        yaourt docker \
        ruby \
        python3 python-pip gcc-fortran lapack libpng \
        go \
        php \
        nodejs npm \
        jdk8-openjdk
}

install-termianl-tool(){
    go get \
        github.com/jehiah/json2csv \
        github.com/motemen/ghq
    [ `which bundle` ]   || gem install bundler
    [ `which mycli` ]    || sudo pip install virtualenv ipython mycli csvkit jcal
    [ `which livedown` ] || sudo npm install --global --no-if-present livedown
}

install-editor-plugin(){
    [ `which cask` ] || curl -fsSL https://raw.githubusercontent.com/cask/cask/master/go | python
    [ -e $HOME/.vim/bundle ] || ~/.dotfiles/bin/install_vundle
}

install-gui-package(){
    sudo pacman -S --needed \
        xorg xorg-xinit lightdm synaptics xorg-xbacklight openbox \
        fcitx fcitx-im fcitx-mozc fcitx-configtool \
        terminator chromium pcmanfm \
        xsel xfce4-screenshooter xscreensaver acpi pm-utils \
        vlc feh pinta moc eog
    yaourt -S --needed adobe-source-han-sans-jp-fonts
}

change-shell(){
    if [ $SHELL != /bin/zsh ]; then
        chsh -s /bin/zsh
    fi
}

change-service(){
    sudo systemctl enable docker
    sudo systemctl start docker
    sudo gpasswd -a $USER docker
    sudo systemctl enable dhcpcd
    sudo systemctl start dhcpcd
}

install-dev-package
install-termianl-tool
install-editor-plugin
install-gui-package
change-service
change-shell
