# Escape key is C-t, literal is a.
escape ^Ta

# I like a large scrollback buffer.
defscrollback 10000

# don't show startup message.
startup_message off

# echo command name whenever a window is created or resurrected.
verbose on

# changes the name of logfile.
logfile 'screen/log/screenlog.%H.%Y%m%d-%02c:%s-%n.%t.log'
logtstamp on
logtstamp string "\n-- SCREEN [%Y/%m/%d %02c:%s] %n:%t --\n"

# changes the directory for hardcopy.
hardcopydir 'screen/hardcopy'
hardcopy_append on

# changes the filename used for reading and writing with the paste buffer.
bufferfile 'screen/screen-exchange'

# changes the kind of messages to the nethack-style.
nethack on

# window re-numbering
# override default `N'(number) mapping
bind N colon 'number '

# continuous switch to other window
bind ^N eval 'next' 'command -c cselect'
bind ^P eval 'prev' 'command -c cselect'
bind -c cselect ^N eval 'next' 'command -c cselect'
bind -c cselect ^P eval 'prev' 'command -c cselect'

# list of all windows is displayed in the blank window(-b) for visual window selection.
# override default `w'(windows) mapping.
bind w  windowlist -b
bind ^W windowlist -b -m # sorting by most-recentry-used list.

# refuses yet another hack in rpm packaged screenrc.
# both ] and ^] does write the paste (default unnamed) buffer.
bind ^y paste .

# enable background-color-erase setting.
defbce on

# use bright colors for bold text.
attrcolor b '.I'

# the $TERM variable set to `xterm' for various environment.
term xterm

# enable 256 color
termcapinfo xterm 'Co#256:AB=\E[48;5;%dm:AF=\E[38;5;%dm'

# don't resize terminal width when re-attached.
termcapinfo xterm 'is=\E[r\E[m\E[2J\E[H\E[?7h\E[?1;4;6l'

# changes the windowlist format to suit caption/hardstatus
windowlist title  '%{u .g}Num Flags Title%=[0-9] select the number [movement] j,C-n:Down k,C-p:Up (C-)f:PageDown (C-)b:PageUp'
windowlist string '%{.g}%3n %{.y}%f%09=%{dg} %t %='

caption always '%?%F%{= gW}%:%{= Kk}%?%2n%f%07=%t%='
hardstatus alwayslastline '%m/%d %02c:%s %{= .g}%H%{-} %L=%-w%45L>%{=u g.}%n %t%{-}%+w '

# encoding should be always utf8
defencoding utf8
encoding utf8 utf8

#move current window
bind j focus down
bind ^j focus down
bind k focus up
bind ^k focus up
bind h focus left
bind ^h focus left
bind l focus right
bind ^l focus right

# continuous switch focus to other region(like vi)
bind -c cfocus ^J eval 'focus down'   'command -c cfocus'
bind -c cfocus ^K eval 'focus up'     'command -c cfocus'
bind -c cfocus ^l eval 'focus left'    'command -c cfocus'
bind -c cfocus ^h eval 'focus right' 'command -c cfocus'

vbell off
bell ''

