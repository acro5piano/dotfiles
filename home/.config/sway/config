# vim:set ft=bash :

include /etc/sway/config.d/*

set $mod Mod4
set $term alacritty

# Also alacritty hides cursor
seat * hide_cursor when-typing enable

hide_edge_borders smart

# font pango:monospace 0.001
# titlebar_padding 1
# titlebar_border_thickness 0
#
# bar {
#     position top
#     font pango:Source Code Pro 10
#     status_command i3status-rs
#     colors {
#         background #0f172a
#     }
# }

input type:touchpad {
  tap enabled
  natural_scroll enabled
  dwt enabled
}

input type:pointer {
  natural_scroll enabled
  scroll_method on_button_down
  scroll_button button3
}

input type:keyboard {
  xkb_options ctrl:nocaps
  repeat_delay 300
  repeat_rate 60
}

bindsym XF86AudioRaiseVolume exec --no-startup-id pactl set-sink-volume @DEFAULT_SINK@ +10%
bindsym XF86AudioLowerVolume exec --no-startup-id pactl set-sink-volume @DEFAULT_SINK@ -10%
bindsym XF86AudioMute exec --no-startup-id pactl set-sink-mute @DEFAULT_SINK@ toggle
bindsym XF86MonBrightnessUp exec --no-startup-id light -A 6
bindsym XF86MonBrightnessDown exec --no-startup-id light -U 6

bindsym $mod+Shift+q kill
bindsym $mod+Shift+c reload
bindsym $mod+o focus right
bindsym $mod+i focus left
bindsym $mod+Return exec $term
bindsym $mod+Ctrl+s exec systemctl suspend
bindsym $mod+Shift+s exec systemctl hibernate
bindsym $mod+z fullscreen
bindsym $mod+r mode "resize"
bindsym $mod+p exec rofi -show drun -i

bindsym Print exec grim -g "$(slurp)" -| wl-copy
bindsym $mod+s exec grim -g "$(slurp)" -| wl-copy

# requires `go install github.com/yory8/clipman@latest`
bindsym $mod+y exec ~/go/bin/clipman pick -t rofi -T'-i'

mode "resize" {
    bindsym j resize shrink width 30px
    bindsym k resize grow width 30px
    bindsym Return mode "default"
    bindsym Escape mode "default"
}

bindsym $mod+j workspace number 1
bindsym $mod+k workspace number 2
bindsym $mod+l workspace number 3
bindsym $mod+m workspace number 4
bindsym $mod+comma workspace number 5
bindsym $mod+period workspace number 6

bindsym $mod+Shift+j move container to workspace number 1
bindsym $mod+Shift+k move container to workspace number 2
bindsym $mod+Shift+l move container to workspace number 3
bindsym $mod+Shift+m move container to workspace number 4
bindsym $mod+Shift+comma move container to workspace number 5
bindsym $mod+Shift+period move container to workspace number 6

assign [class="Pcmanfm"] workspace 2
for_window [class="pavucontrol"] move container to workspace 6
for_window [class="pavucontrol-qt"] move container to workspace 6
for_window [class="Joplin"] move container to workspace 5

exec start-fcitx &
exec xremap ~/.xremap &
exec dunst &
exec wl-paste -t text --watch ~/go/bin/clipman store --max-items=50 --no-persist &
exec light -S 1
exec swaymsg 'workspace 6; exec pavucontrol-qt'
exec swaymsg 'workspace 5; exec joplin'
exec swaymsg 'workspace 1; exec alacritty'
exec swaymsg 'workspace 2; exec brave'
